stages:
  visualize_data:
    cmd: python src/data_visualization.py
    deps:
      - data/raw/bank-additional-full.csv
    outs:
      - docs\figures\boxplots_age.png
      - docs\figures\boxplots_tasa.png
      - docs/figures/distribucion_education.png
      - docs\figures\distribucion_job.png
      - docs\figures\distribucion_target.png
      - docs\figures\matriz_correlacion.png

  test_data_quality:
    cmd: pytest --html=docs\test_results\test_results.html --self-contained-html test\test_data_quality.py
    deps:
      - test\test_data_quality.py
      - data\raw\bank-additional-full.csv

    outs:
      - docs\test_results\test_results.html

  test_data_gx:
    cmd: pytest --html=docs\test_results\test_results_gx.html --self-contained-html test\test_data_gx.py
    deps:
      - test\test_data_gx.py
      - data\raw\bank-additional-full.csv
    outs:
      - docs\test_results\test_results_gx.html
  
  preprocess_data:
    cmd: python src\data_preparation.py
    deps:
      - data\raw\bank-additional-full.csv
      - src\data_preparation.py
    outs:
      - data\processed\bank-processed.csv

